@page "/Interests"
@inject IResizeListener _listener
@using Breakpoints = BlazorPro.BlazorSize.Breakpoints
@implements System.IDisposable
@if (gridLoad=="hidden" && theme=="dark")
{
    <div>
        <img style="width: 100vw; height: 95vh;" src="https://i.gifer.com/3rCL.gif"/>
    </div>

}else if (gridLoad=="hidden" && theme == "light")
{    
    <div>
        <img style="width: 100vw; height: 95vh;" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2F38.media.tumblr.com%2F6ebc429ba22c9156e667161ec913c38b%2Ftumblr_n5mufrqAk21tc216ao8_500.gif&f=1&nofb=1"/>
    </div>
}
else
{
    <h3 style="text-align: center">Interests</h3>
}
<MudGrid Style=@($"visibility:")>
    <MudItem xs="columns">
        <MudCard>
            <MudCardContent>
                <MudCarousel Style="height: 350px; color: white" ShowDelimiters="false" ShowArrows="false" AutoCycleTime="TimeSpan.FromSeconds(5)" TData="object">
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center;">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Gym</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.creativefabrica.com%2Fwp-content%2Fuploads%2F2020%2F02%2F10%2FGym-Logo-Graphics-1-45-580x386.jpg&f=1&nofb=1"/>
                    </MudCarouselItem>
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center;">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Gaming</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://d1csarkz8obe9u.cloudfront.net/posterpreviews/gamer-logo-design-template-b60e672ab8ace6966e31dbc1f509dc9e_screen.jpg?ts=1600442558"/>
                    </MudCarouselItem>
                </MudCarousel>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="columns">
        <MudCard>
            <MudCardContent>
                <MudCarousel Style="height: 350px; color: white" ShowDelimiters="false" ShowArrows="false" AutoCycleTime="TimeSpan.FromSeconds(7)" TData="object">
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Anime</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fimg00.deviantart.net%2F5e32%2Fi%2F2011%2F039%2F3%2Ff%2Fstrongworld_mugiwara_crew_by_lilprincess95-d394dzf.png&f=1&nofb=1"/>
                    </MudCarouselItem>
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Team Sports</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.pinimg.com%2Foriginals%2F4b%2F17%2F05%2F4b17056f4bdc25ed24a1b2fc63737bb2.jpg&f=1&nofb=1"/>
                    </MudCarouselItem>
                </MudCarousel>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="columns">
        <MudCard>
            <MudCardContent>
                <MudCarousel Style="height: 350px; color: white" ShowDelimiters="false" ShowArrows="false" AutoCycleTime="TimeSpan.FromSeconds(9)" TData="object">
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Hiking</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="images/1633094592464.jpg"/>
                    </MudCarouselItem>
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Camping</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fonmilwaukee.com%2Fimages%2Farticles%2Fca%2Fcamping%2Fcamping_fullsize_story1.jpg%3F20080730123152&f=1&nofb=1"/>
                    </MudCarouselItem>
                </MudCarousel>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="columns">
        <MudCard>
            <MudCardContent>
                <MudCarousel Style="height: 350px; color: white" ShowDelimiters="false" ShowArrows="false" AutoCycleTime="TimeSpan.FromSeconds(11)" TData="object">
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Travelling</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="images/sea.jpg"/>
                    </MudCarouselItem>
                    <MudCarouselItem Transition="Transition.Custom" CustomTransitionEnter="@AnimationEntrance" CustomTransitionExit="@AnimationExit">
                        <MudCardHeader Style="justify-content: center">
                            <MudText Typo="Typo.h6" Style=@($"color:{color}")>Series</MudText>
                        </MudCardHeader>
                        <img height="300px" width="100%" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.themoviethemesong.com%2Fwp-content%2Fuploads%2F2014%2F04%2FThe-Big-Bang-Theory-Theme-Song-3.jpg&f=1&nofb=1"/>
                    </MudCarouselItem>
                </MudCarousel>
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>

@code {

    [CascadingParameter(Name = "theme")]
    protected string theme { get; set; }
    private string color { get; set; } 
    private int columns { get; set; }
    protected override async void OnInitialized()
    {
        if (theme == "dark")
        {
            color = "rgba(93, 255, 0, 1)";
        }
        else
        {
            color = "black";
        }
        browser = await _listener.GetBrowserWindowSize();
        if (browser.Width < 600)
        {
            typo = Typo.body1;
            hidden = "visibility:hidden";
            columns = 12;
        }
        else
        {
            typo = Typo.h5;
            columns = 6;
        }
        await Visible();

        StateHasChanged();

    }

    protected override Task OnParametersSetAsync()
    {
        color = theme == "dark" ? "rgba(93, 255, 0, 1)" : "black";
        return base.OnParametersSetAsync();
    }
    bool IsXSmallDown = false;
    private string hidden = "visibility:visible";
    private string gridLoad ="hidden";
    BrowserWindowSize browser = new BrowserWindowSize();
    public Typo typo { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        
        if (firstRender)
        {
    // Subscribe to the OnResized event. This will do work when the browser is resized.
            _listener.OnResized += WindowResized;
        }
    }

    public async Task Visible()
    {
        await Task.Delay(1500);
        gridLoad = "visible";
    }
    public void Dispose()
    {
    // Always use IDisposable in your component to unsubscribe from the event.
    // Be a good citizen and leave things how you found them. 
    // This way event handlers aren't called when nobody is listening.
        _listener.OnResized -= WindowResized;
    }
    async void WindowResized(object _, BrowserWindowSize window)
    {
    // Get the browsers's width / height
        browser = window;

    // Check a media query to see if it was matched. We can do this at any time, but it's best to check on each resize
        IsXSmallDown = await _listener.MatchMedia(Breakpoints.SmallDown);

    // We're outside of the component's lifecycle, be sure to let it know it has to re-render.
        if (IsXSmallDown == true)
        {
            typo = Typo.body1;
            hidden = "visibility:hidden";
            columns = 12;

        }else
        {
            hidden = "visibility:visible";
            typo = Typo.h5;
            columns = 6;

        }
        StateHasChanged();
    }
    private string AnimationEntrance = "animate__animated animate__bounceInDown animate__delay-1s";
    private string AnimationExit = "animate__animated animate__bounceOutUp";
}